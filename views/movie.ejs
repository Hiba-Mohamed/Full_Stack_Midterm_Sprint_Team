<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <title>Movie Details</title>
    <link rel="stylesheet" type="text/css" href="/styles.css" />
  </head>
  <body>
    <%- include("header") %>
    <div class="main-layout">
      <div class="movie">
        <% if (movie) { %>
        <h1><%= movie.title %></h1>
        <ul class="movie-detail">
          <li><strong>Release Year:</strong> <%= movie.releaseYear %></li>
          <li><strong>Rating:</strong> <%= movie.rating %>/10</li>
          <li><strong>Description:</strong> <%= movie.description %></li>
          <li><strong>Director:</strong> <%= movie.director %></li>
          <li><strong>Genre:</strong> <%= movie.genre %></li>
        </ul>
      </div>

      <!-- Recommendations Section -->
      <% if (recommendations.length > 0) { %>
      <div class="recommendations">
        <p class="tagline">
          Based on the genre <em><%= movie.genre %></em>, the following
          movies are recommended:
        </p>
        <% recommendations.forEach((rec) => { %>
        <div class="recommendation-item">
          <h4><%= rec.title %></h4>
          <p><strong>Release Year:</strong> <%= rec.releaseYear %></p>
          <p><strong>Rating:</strong> <%= rec.rating %>/10</p>
          <a href="/movie/<%= rec.id %>">Explore Movie</a>
        </div>
        <% }) %>
      </div>
      <% } else { %>
      <p>No recommendations available for this genre.</p>
      <% } %> <% } else { %>
      <h1>Movie not found</h1>
      <% } %>
    </div>
  </body>
</html>
